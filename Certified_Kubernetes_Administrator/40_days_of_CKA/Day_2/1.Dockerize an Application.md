# Dockerize an Application
## Getting started:

* Github Repo:
  ```
  https://github.com/vignesh-0002/EMS-ops.git
  ```
* Use this command to clone this repo:
  ```
  git clone https://github.com/vignesh-0002/EMS-ops.git
  ```
* cd into the directory
  ```
   cd EMS-ops/
  ```
* Checkout to phase-0
  ```
  git checkout phase-0
  ```  
* Now cd into `react-hooks-frontend`
  Follwoing are the files inside the react directory:
  `Dockerfile  README.md  package-lock.json  package.json  public  src`

* Docker file for `react-hooks-frontend`

  ```
  # Stage 1: Build the React app
  FROM node:14-alpine AS build-stage

  # Set the working directory
  WORKDIR /app

  # Copy package.json and package-lock.json for dependency installation
  COPY package.json package-lock.json ./

  # Install Node.js dependencies
  RUN npm install

  # Copy the entire project to the container
  COPY . .

  # Build the React app
  RUN npm run build

  # Stage 2: Serve the React app with Nginx
  FROM nginx:alpine AS production-stage

  # Set the working directory for Nginx
  WORKDIR /usr/share/nginx/html

  # Remove the default Nginx static files
  RUN rm -rf ./*

  # Copy built React app from the build stage
  COPY --from=build-stage /app/build .

  # Copy custom Nginx configuration file
  COPY nginx.conf /etc/nginx/conf.d/default.conf

  # Expose the port Nginx is configured to listen on
  EXPOSE 80

  # Command to run Nginx
  CMD ["nginx", "-g", "daemon off;"]
  ```
